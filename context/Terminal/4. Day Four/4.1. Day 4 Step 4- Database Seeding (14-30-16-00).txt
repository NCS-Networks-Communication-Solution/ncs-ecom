Last login: Mon Sep 29 16:46:53 on ttys001
pkaewmanee@Phakkhapons-MacBook-Pro ncs-ecom % cd backend 
pkaewmanee@Phakkhapons-MacBook-Pro backend % npm install --save-dev ts-node @types/node


up to date, audited 827 packages in 3s

139 packages are looking for funding
  run `npm fund` for details

5 low severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
pkaewmanee@Phakkhapons-MacBook-Pro backend % npm pkg set prisma.seed="ts-node prisma/seed.ts"
pkaewmanee@Phakkhapons-MacBook-Pro backend % npm list bcrypt || npm install bcrypt
npm list @types/bcrypt || npm install --save-dev @types/bcrypt
ncs-backend@0.1.0 /Users/pkaewmanee/Desktop/Project_Hiroshima/ncs-ecom/backend
‚îî‚îÄ‚îÄ bcrypt@5.1.1

ncs-backend@0.1.0 /Users/pkaewmanee/Desktop/Project_Hiroshima/ncs-ecom/backend
‚îî‚îÄ‚îÄ @types/bcrypt@5.0.2

pkaewmanee@Phakkhapons-MacBook-Pro backend % cp prisma/seed.ts prisma/seed.backup.ts
pkaewmanee@Phakkhapons-MacBook-Pro backend % npx prisma generate
warn The configuration property `package.json#prisma` is deprecated and will be removed in Prisma 7. Please migrate to a Prisma config file (e.g., `prisma.config.ts`).
For more information, see: https://pris.ly/prisma-config

Environment variables loaded from .env
Prisma schema loaded from prisma/schema.prisma

‚úî Generated Prisma Client (v6.16.2) to ./node_modules/@prisma/client in 122ms

Start by importing your Prisma Client (See: https://pris.ly/d/importing-client)

Tip: Interested in query caching in just a few lines of code? Try Accelerate today! https://pris.ly/tip-3-accelerate

pkaewmanee@Phakkhapons-MacBook-Pro backend % npx prisma db push
warn The configuration property `package.json#prisma` is deprecated and will be removed in Prisma 7. Please migrate to a Prisma config file (e.g., `prisma.config.ts`).
For more information, see: https://pris.ly/prisma-config

Environment variables loaded from .env
Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "ncsdb", schema "public" at "localhost:5432"

The database is already in sync with the Prisma schema.

‚úî Generated Prisma Client (v6.16.2) to ./node_modules/@prisma/client in 120ms

pkaewmanee@Phakkhapons-MacBook-Pro backend % npx prisma db seed
warn The configuration property `package.json#prisma` is deprecated and will be removed in Prisma 7. Please migrate to a Prisma config file (e.g., `prisma.config.ts`).
For more information, see: https://pris.ly/prisma-config

Environment variables loaded from .env
Running seed command `ts-node prisma/seed.ts` ...
üå± Starting database seeding...
üßπ Cleaning existing data...
üè¢ Creating companies...
üë• Creating users...
üìÇ Creating categories...
üì¶ Creating products...
‚úÖ Database seeded successfully!
üìä Summary:
  Companies: 2
  Users: 3
  Categories: 3
  Products: 7

üîê Test Login Credentials:
  Admin: admin@ncs.co.th / admin123
  Sales: sales@ncs.co.th / user123
  Buyer: buyer@test.com / user123

üå±  The seed command has been executed.
pkaewmanee@Phakkhapons-MacBook-Pro backend % npx prisma studio

warn The configuration property `package.json#prisma` is deprecated and will be removed in Prisma 7. Please migrate to a Prisma config file (e.g., `prisma.config.ts`).
For more information, see: https://pris.ly/prisma-config

Environment variables loaded from .env
Prisma schema loaded from prisma/schema.prisma
Prisma Studio is up on http://localhost:5555
Prisma schema loaded from prisma/schema.prisma
^C
pkaewmanee@Phakkhapons-MacBook-Pro backend % npx prisma db execute --stdin <<< " 
SELECT
  (SELECT COUNT(*) FROM companies) as companies,
  (SELECT COUNT(*) FROM users) as users,
  (SELECT COUNT(*) FROM categories) as categories,
  (SELECT COUNT(*) FROM products) as products;
"
warn The configuration property `package.json#prisma` is deprecated and will be removed in Prisma 7. Please migrate to a Prisma config file (e.g., `prisma.config.ts`).
For more information, see: https://pris.ly/prisma-config

Error: Either --url or --schema must be provided.
See `prisma db execute -h`
pkaewmanee@Phakkhapons-MacBook-Pro backend % npx ts-node verify-data.ts

node:internal/modules/cjs/loader:1386
  throw err;
  ^

Error: Cannot find module './verify-data.ts'
Require stack:
- /Users/pkaewmanee/Desktop/Project_Hiroshima/ncs-ecom/backend/imaginaryUncacheableRequireResolveScript
    at Function._resolveFilename (node:internal/modules/cjs/loader:1383:15)
    at Function.resolve (node:internal/modules/helpers:157:19)
    at requireResolveNonCached (/Users/pkaewmanee/Desktop/Project_Hiroshima/ncs-ecom/backend/node_modules/ts-node/dist/bin.js:549:16)
    at getProjectSearchDir (/Users/pkaewmanee/Desktop/Project_Hiroshima/ncs-ecom/backend/node_modules/ts-node/dist/bin.js:519:40)
    at phase3 (/Users/pkaewmanee/Desktop/Project_Hiroshima/ncs-ecom/backend/node_modules/ts-node/dist/bin.js:267:27)
    at bootstrap (/Users/pkaewmanee/Desktop/Project_Hiroshima/ncs-ecom/backend/node_modules/ts-node/dist/bin.js:47:30)
    at main (/Users/pkaewmanee/Desktop/Project_Hiroshima/ncs-ecom/backend/node_modules/ts-node/dist/bin.js:33:12)
    at Object.<anonymous> (/Users/pkaewmanee/Desktop/Project_Hiroshima/ncs-ecom/backend/node_modules/ts-node/dist/bin.js:579:5)
    at Module._compile (node:internal/modules/cjs/loader:1706:14)
    at Object..js (node:internal/modules/cjs/loader:1839:10) {
  code: 'MODULE_NOT_FOUND',
  requireStack: [
    '/Users/pkaewmanee/Desktop/Project_Hiroshima/ncs-ecom/backend/imaginaryUncacheableRequireResolveScript'
  ]
}

Node.js v22.20.0
pkaewmanee@Phakkhapons-MacBook-Pro backend % npx prisma db execute --schema=prisma/schema.prisma --stdin <<< "
SELECT
  (SELECT COUNT(*) FROM companies) as companies,
  (SELECT COUNT(*) FROM users) as users,
  (SELECT COUNT(*) FROM categories) as categories,
  (SELECT COUNT(*) FROM products) as products;
"

warn The configuration property `package.json#prisma` is deprecated and will be removed in Prisma 7. Please migrate to a Prisma config file (e.g., `prisma.config.ts`).
For more information, see: https://pris.ly/prisma-config

Script executed successfully.
pkaewmanee@Phakkhapons-MacBook-Pro backend % 
