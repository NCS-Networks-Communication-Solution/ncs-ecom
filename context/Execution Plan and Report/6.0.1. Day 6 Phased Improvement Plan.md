**Phased Improvement Plan**

- **Phase 0 – Environment Parity Baseline**
    
    - Owner: DevOps lead.
    - Actions: Confirm .env and docker compose ports align with the documented 3000 API hosting; re-run compose changes described in context/Execution Plan and Report/5.8. Day 5.5 HIGH PRIORITY Docker Network Configuration Issues.md:5. Double-check NEXT_PUBLIC_API_URL still points to http://localhost:3000/api (frontend/src/services/cartService.ts:1).
    - Validation: curl the running backend from the frontend host, re-run node frontend/scripts/smoke.mjs to ensure catalog/login still pass.
    - 

- **Phase 1 – Cart Error Visibility & Diagnostics**
    
    - Owner: Frontend engineer.
    - Actions: Surface HTTP status/message from cart requests in the dropdown banner so testers see why items fail (frontend/src/contexts/CartContext.tsx:65, frontend/src/components/cart/CartDropdown.tsx:37). Add console logging with request IDs while feature-flagged.
    - Validation: Attempt add/remove with a valid token; UI should display backend error verbatim when it fails and clear it when succeeding.
    - 

- **Phase 2 – Backend Cart Path Fix**
    
    - Owner: Backend engineer.
    - Actions: Reproduce the failure by calling POST /api/cart/items using the access token from the demo login; inspect guard context and Prisma query in backend/src/cart/cart.service.ts:105 for authorization or data mismatches. Audit the schema/seed to ensure cart items reference seeded product IDs (backend/prisma/seed.ts:195).
    - Validation: Postman test suite covering add/update/remove/clear with the seeded admin user; ensure responses return updated cart payloads.
    - 

- **Phase 3 – Frontend Cart UX Regression Tests**
    
    - Owner: Frontend engineer.
    - Actions: Once backend is stable, verify quantity adjustments, VAT totals, and empty-state handling in frontend/src/components/cart/CartDropdown.tsx:59 and frontend/src/components/cart/CartItem.tsx:20. Add unit coverage for the totals reducer in frontend/src/contexts/CartContext.tsx:45.
    - Validation: Manual scenario matrix (add multiple items, adjust, clear) plus new Jest/React Testing Library cases for cart context.
    - 

- **Phase 4 – Automation & Monitoring**
    
    - Owner: QA / DevOps joint.
    - Actions: Extend frontend/scripts/smoke.mjs:33 with a cart add/remove check after login; wire the script into CI once backend carts pass. Capture cart API metrics (success/error counts) once deployed.
    - Validation: CI pipeline must fail if cart smoke step returns non-2xx; dashboards show baseline traffic with alerting for spikes in cart errors.
    - 

**Next Steps**

1. Execute Phase 0 checks; report any residual port/token mismatches.
2. Implement Phase 1 visibility tweak so backend findings are unambiguous during debugging.